# 堆叠上下文(stack context)

> 堆叠上下文，是**一块区域**，该区域规定了**内容在z轴的排列先后顺序**。
>
> 该区域，是由某个元素创建的。



## 创建堆叠上下文的元素

1. html元素（根元素）。
2. 设置`z-index`属性值为非`auto`的元素。



## 同一堆叠上下文中元素在z轴的排列顺序

> 堆叠级别：指的是`z-index`的数值。
>
> 堆叠上下文是一个整体。

在z轴排列顺序从后往前：

1. 创建堆叠上下文元素的背景、边框、阴影、轮廓。
2. 堆叠级别为负值的堆叠上下文。
3. 非定位的常规流块盒。
4. 非定位的浮动盒子。
5. 非定位的行盒(匿名行盒)。
6. `z-index`值为`auto`的定位元素，以及`z-index`值为`0`的堆叠上下文。
7. 堆叠级别为正值的堆叠上下文。



**注意**：

- 不同堆叠上下文是独立的，不能相互穿插。
- 堆叠级别相同，则比较源次序，源次序在后的排在前，源次序在前的排在后。